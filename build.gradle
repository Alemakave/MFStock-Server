ext.JETTY_VERSION = "9.2.19.v20160908" // Old version: '9.2.19.v20160908'       New version: "11.0.7"
ext.JETTY_JSP_VERSION = "9.2.19.v20160908" // Old version: '9.2.19.v20160908'   New version: "9.3.0.M1"

apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 11
targetCompatibility = 11
compileJava.options.encoding = 'UTF-8'

group 'ru.alemakave.mfstock.server'
version '0.0.2-ALPHA'
mainClassName = "ru.alemakave.BootstrapStarter"

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'org.eclipse.jetty', name: 'jetty-server', version: JETTY_VERSION
    implementation group: 'org.eclipse.jetty', name: 'jetty-proxy', version: JETTY_VERSION
    implementation group: 'org.eclipse.jetty', name: 'jetty-webapp', version: JETTY_VERSION
    implementation group: 'org.eclipse.jetty', name: 'jetty-jmx', version: JETTY_VERSION
    implementation group: 'org.eclipse.jetty', name: 'jetty-jsp', version: JETTY_JSP_VERSION

    implementation group: "com.fasterxml.jackson.core", name: "jackson-core", version: "2.10.5"
    implementation group: "com.fasterxml.jackson.core", name: "jackson-annotations", version: "2.10.5"
    implementation group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.10.5"

    implementation group: "org.reflections", name: "reflections", version: "0.9.11"
    implementation group: "org.jetbrains", name: "annotations", version: "15.0"
}

jar {
    manifest {
        attributes(
                'Main-Class': mainClassName,)
    }
}

test {
    useJUnitPlatform()
}

distTar {
    exclude("*")
}

distZip {
    exclude("*")
}